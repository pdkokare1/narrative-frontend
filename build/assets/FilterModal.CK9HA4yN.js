import{j as e}from"./vendor-utils.C5aUNQjH.js";import{r as m}from"./vendor-react.CunEISTA.js";import{w as f,x as j,L as N,R as y,y as w,Q as S,B as L}from"./index.BE3a_34f.js";import"./vendor-firebase.CapENl2a.js";import"./vendor-ui.DT2d8rn5.js";import"./vendor-charts.CDFCwfjF.js";const u=({name:a,value:i,options:n,onChange:h})=>{const[r,o]=m.useState(!1),c=m.useRef(null),d=n.find(s=>(typeof s=="string"?s:s.value)===i),x=d?typeof d=="string"?d:d.label:i;m.useEffect(()=>{const s=l=>{c.current&&!c.current.contains(l.target)&&o(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const v=s=>{h({target:{name:a,value:s}}),o(!1)};return e.jsxs("div",{className:"custom-select-container",ref:c,children:[e.jsxs("button",{type:"button",className:`custom-select-value ${r?"open":""}`,onClick:()=>o(!r),"aria-haspopup":"listbox","aria-expanded":r,children:[e.jsx("span",{children:x}),e.jsxs("svg",{className:"custom-select-arrow",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",height:"20",viewBox:"0 0 24 24",width:"20",children:[e.jsx("path",{d:"M7 10l5 5 5-5z"}),e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})]}),r&&e.jsx("ul",{className:"custom-select-options",role:"listbox",children:n.map((s,l)=>{const p=typeof s=="string"?s:s.value,t=typeof s=="string"?s:s.label,g=p===i;return e.jsx("li",{className:`custom-select-option ${g?"selected":""}`,onClick:()=>v(p),role:"option","aria-selected":g,children:t},l)})})]})},R=({filters:a,onFilterChange:i,onClose:n})=>{const[h,r]=m.useState(null),[o,c]=m.useState(null),d=50,x=t=>{c(null),r(t.targetTouches[0].clientY)},v=t=>{c(t.targetTouches[0].clientY)},s=()=>{if(!h||!o)return;o-h>d&&n()},l=t=>{i({...a,[t.target.name]:t.target.value})},p=()=>{i({category:"All Categories",politicalLean:"All Leans",region:"Global",articleType:"All Types",quality:"All Quality Levels",sort:"Latest First"})};return e.jsx("div",{className:"filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"filter-modal",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"filter-swipe-area",onTouchStart:x,onTouchMove:v,onTouchEnd:s,children:[e.jsx("div",{className:"filter-drag-handle"}),e.jsxs("div",{className:"filter-header",children:[e.jsx("h3",{className:"filter-title",children:"Filter & Sort"}),e.jsx("button",{className:"filter-reset",onClick:p,children:"Reset"})]})]}),e.jsxs("div",{className:"filter-body",children:[e.jsxs("div",{className:"filter-row",children:[e.jsx("div",{className:"filter-group-label",children:"Sort Order"}),e.jsx(u,{name:"sort",value:a.sort||"Latest First",options:f,onChange:l})]}),e.jsxs("div",{className:"filter-row",children:[e.jsx("div",{className:"filter-group-label",children:"Category"}),e.jsx(u,{name:"category",value:a.category||"All Categories",options:j,onChange:l})]}),e.jsxs("div",{className:"filter-row",children:[e.jsx("div",{className:"filter-group-label",children:"Political Lean"}),e.jsx(u,{name:"politicalLean",value:a.politicalLean||"All Leans",options:N,onChange:l})]}),e.jsxs("div",{className:"filter-row",children:[e.jsx("div",{className:"filter-group-label",children:"Region"}),e.jsx(u,{name:"region",value:a.region||"Global",options:y,onChange:l})]}),e.jsxs("div",{className:"filter-row",children:[e.jsx("div",{className:"filter-group-label",children:"Article Type"}),e.jsx(u,{name:"articleType",value:a.articleType||"All Types",options:w,onChange:l})]}),e.jsxs("div",{className:"filter-row",children:[e.jsx("div",{className:"filter-group-label",children:"Quality Grade"}),e.jsx(u,{name:"quality",value:a.quality||"All Quality Levels",options:S,onChange:l})]})]}),e.jsx("div",{className:"filter-footer",children:e.jsx(L,{variant:"primary",onClick:n,style:{width:"100%",padding:"10px"},children:"Apply Filters"})})]})})};export{R as default};
