/* src/Login.css */

/* --- 1. System Theme Variables --- */
:root {
  --login-bg: #f0f2f5;
  --login-glass: rgba(255, 255, 255, 0.65);
  --login-border: rgba(255, 255, 255, 0.6);
  --login-text: #1a1a1a;
  --login-subtext: #555;
  
  --card-bg: #ffffff;
  --card-shadow: 0 4px 15px rgba(0,0,0,0.06);
  
  --vignette: radial-gradient(circle at center, rgba(240,242,245, 0.2) 0%, rgba(240,242,245, 1) 85%);
  --glow-color: radial-gradient(circle, rgba(66, 135, 245, 0.4) 0%, rgba(66, 135, 245, 0) 70%);
}

@media (prefers-color-scheme: dark) {
  :root {
    --login-bg: #050505;
    --login-glass: rgba(20, 20, 20, 0.65);
    --login-border: rgba(255, 255, 255, 0.1);
    --login-text: #ffffff;
    --login-subtext: #a0a0a0;
    
    --card-bg: #121212;
    --card-shadow: 0 4px 15px rgba(0,0,0,0.5);
    
    --vignette: radial-gradient(circle at center, rgba(5,5,5, 0.3) 0%, rgba(5,5,5, 1) 90%);
    --glow-color: radial-gradient(circle, rgba(60, 100, 255, 0.35) 0%, rgba(60, 100, 255, 0) 70%);
  }
}

/* --- 2. Page Layout --- */
.login-page-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  position: relative;
  background-color: var(--login-bg);
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* --- 3. The Stream (Background) --- */
.narrative-stream-bg {
  position: absolute;
  top: -15%;
  left: 0;
  width: 100%;
  height: 130%;
  z-index: 1;
  display: flex;
  justify-content: center;
  /* Cinematic tilt */
  transform: perspective(1200px) rotateX(8deg) scale(1.05);
  opacity: 0.6; /* Default dim state */
  transition: opacity 0.5s ease;
}

.stream-vignette {
  position: absolute;
  inset: 0;
  background: var(--vignette);
  z-index: 5;
  pointer-events: none;
}

.stream-columns {
  display: flex;
  gap: 24px;
  width: 140%;
  max-width: 1800px;
  justify-content: center;
}

/* Columns & Animation */
.ghost-column {
  display: flex;
  flex-direction: column;
  gap: 24px;
  width: 260px;
  flex-shrink: 0;
  animation: scrollUp 90s linear infinite;
  will-change: transform;
}
.ghost-column.medium { animation-duration: 110s; }
.ghost-column.fast { animation-duration: 80s; }
.ghost-column.reverse { animation-name: scrollDown; }

@keyframes scrollUp {
  0% { transform: translateY(0); }
  100% { transform: translateY(-25%); }
}
@keyframes scrollDown {
  0% { transform: translateY(-25%); }
  100% { transform: translateY(0); }
}

/* The Ghost Cards */
.ghost-card {
  background: var(--card-bg);
  border-radius: 16px;
  overflow: hidden;
  box-shadow: var(--card-shadow);
  display: flex;
  flex-direction: column;
  height: 280px;
  border: 1px solid rgba(255,255,255,0.05);
  
  /* Start slightly dim, they will glow when hitting the sensor */
  filter: grayscale(40%);
  transition: filter 0.3s ease;
}

.ghost-image {
  height: 140px;
  width: 100%;
}

.ghost-content {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
}

.ghost-category {
  font-size: 10px;
  font-weight: 800;
  text-transform: uppercase;
  color: #888;
  letter-spacing: 1px;
}

.ghost-title {
  font-size: 15px;
  font-weight: 700;
  color: var(--login-text);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.ghost-meta {
  margin-top: auto;
  display: flex;
  gap: 6px;
}
.ghost-pill {
  height: 6px;
  width: 40px;
  background: currentColor;
  opacity: 0.1;
  border-radius: 4px;
}
.ghost-pill.short { width: 20px; }


/* --- 4. The Stage (Center) --- */
.login-stage {
  position: relative;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
}

/* THE MAGIC GLOW SENSOR */
/* This sits behind the login card. 
   Anything passing through it gets blended with 'overlay', making it pop/glow. */
.login-sensor-glow {
  position: absolute;
  width: 600px;
  height: 600px;
  background: var(--glow-color);
  border-radius: 50%;
  pointer-events: none;
  z-index: -1; /* Behind the login card, but in front of background stream contextually */
  
  /* This creates the interaction */
  mix-blend-mode: overlay; 
  filter: blur(40px);
  animation: breathe 6s ease-in-out infinite alternate;
}

@keyframes breathe {
  0% { transform: scale(0.9); opacity: 0.8; }
  100% { transform: scale(1.1); opacity: 1; }
}

.login-container {
  width: 400px;
  border-radius: 24px;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  
  /* Frosted Glass */
  background-color: var(--login-glass);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border: 1px solid var(--login-border);
}

.login-form-panel {
  padding: 60px 40px;
  text-align: center;
}

.login-form-panel h1 {
  font-family: 'Inter', system-ui, sans-serif; 
  font-size: 36px;
  font-weight: 800;
  color: var(--login-text);
  margin-bottom: 12px;
  letter-spacing: -1.5px;
}

.login-form-panel p {
  color: var(--login-subtext);
  font-size: 15px;
  margin-bottom: 45px;
}

/* --- Firebase UI Styling --- */
#firebaseui-auth-container .firebaseui-container {
  background: transparent;
  box-shadow: none;
  max-width: 100%;
}
#firebaseui-auth-container .firebaseui-card-content { padding: 0; }

#firebaseui-auth-container .firebaseui-idp-button.firebaseui-idp-google {
  background-color: var(--card-bg);
  border: 1px solid var(--login-border);
  border-radius: 12px;
  height: 52px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  width: 100%;
  max-width: 100%;
}
#firebaseui-auth-container .firebaseui-idp-text.firebaseui-idp-text-long {
  color: var(--login-text);
  font-family: system-ui, sans-serif;
  font-weight: 600;
  font-size: 15px;
}
#firebaseui-auth-container .mdl-progress { display: none; }

/* Mobile */
@media (max-width: 768px) {
  .ghost-column.fast { display: none; }
  .login-container { width: 90%; max-width: 380px; }
  .login-sensor-glow { width: 350px; height: 350px; }
}
@media (max-width: 480px) {
  .ghost-column.medium { display: none; }
}
