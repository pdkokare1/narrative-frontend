/* src/Login.css */

/* --- 1. System Theme Variables --- */
:root {
  --login-bg: #f0f2f5;
  --login-glass: rgba(255, 255, 255, 0.75);
  --login-border: rgba(255, 255, 255, 0.5);
  --login-text: #1a1a1a;
  --login-subtext: #555;
  --mosaic-card-bg: #ffffff;
  --mosaic-shadow: 0 4px 15px rgba(0,0,0,0.08);
  --vignette-color: radial-gradient(circle at center, rgba(240,242,245, 0.4) 0%, rgba(240,242,245, 1) 80%);
  --glow-color: rgba(59, 130, 246, 0.3);
}

@media (prefers-color-scheme: dark) {
  :root {
    --login-bg: #050505;
    --login-glass: rgba(20, 20, 20, 0.65);
    --login-border: rgba(255, 255, 255, 0.1);
    --login-text: #ffffff;
    --login-subtext: #a0a0a0;
    --mosaic-card-bg: #151515;
    --mosaic-shadow: 0 4px 15px rgba(0,0,0,0.4);
    --vignette-color: radial-gradient(circle at center, rgba(5,5,5, 0.4) 0%, rgba(5,5,5, 1) 90%);
    --glow-color: rgba(59, 130, 246, 0.25);
  }
}

/* --- 2. Page Layout --- */
.login-page-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  position: relative;
  background-color: var(--login-bg);
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* --- 3. Mosaic Background --- */
.narrative-mosaic-bg {
  position: absolute;
  top: -10%;
  left: 0;
  width: 100%;
  height: 120%;
  z-index: 1;
  display: flex;
  justify-content: center;
  overflow: hidden;
  /* Slightly rotated for dynamic feel */
  transform: perspective(1000px) rotateX(5deg) scale(1.1);
  opacity: 0.8; 
}

/* The Vignette: Fades the edges so the text isn't distracting */
.mosaic-overlay-vignette {
  position: absolute;
  inset: 0;
  background: var(--vignette-color);
  z-index: 5;
  pointer-events: none;
}

.mosaic-columns {
  display: flex;
  gap: 24px;
  width: 130%;
  max-width: 1600px;
  justify-content: center;
}

/* Columns */
.mosaic-column {
  display: flex;
  flex-direction: column;
  gap: 24px;
  width: 260px;
  flex-shrink: 0;
  animation: scrollUp 80s linear infinite;
  will-change: transform;
}

.mosaic-column.medium { animation-duration: 95s; }
.mosaic-column.fast { animation-duration: 70s; }
.mosaic-column.reverse { animation-name: scrollDown; }

/* The Mosaic Card (Simulated News Card) */
.mosaic-card {
  background: var(--mosaic-card-bg);
  border-radius: 16px;
  overflow: hidden;
  box-shadow: var(--mosaic-shadow);
  display: flex;
  flex-direction: column;
  height: 280px; /* Fixed height for consistency */
  border: 1px solid var(--login-border);
  opacity: 0.85;
  transition: opacity 0.3s ease;
}

/* The Gradient "Image" */
.mosaic-image {
  height: 140px;
  width: 100%;
  flex-shrink: 0;
}

.mosaic-content {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
}

.mosaic-category {
  font-size: 10px;
  font-weight: 800;
  text-transform: uppercase;
  color: #888;
  letter-spacing: 1px;
}

.mosaic-title {
  font-size: 15px;
  font-weight: 700;
  color: var(--login-text);
  line-height: 1.4;
  /* Clamp text to 3 lines */
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.mosaic-meta {
  margin-top: auto;
  display: flex;
  gap: 6px;
}

.mosaic-pill {
  height: 6px;
  width: 40px;
  background: var(--login-subtext);
  opacity: 0.2;
  border-radius: 4px;
}
.mosaic-pill.short { width: 20px; }

/* Animations */
@keyframes scrollUp {
  0% { transform: translateY(0); }
  100% { transform: translateY(-25%); } /* Adjusted for quadrupled list */
}

@keyframes scrollDown {
  0% { transform: translateY(-25%); }
  100% { transform: translateY(0); }
}

/* --- 4. Main Login Wrapper (Center Stage) --- */
.login-container-wrapper {
  position: relative;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* The Glowing Orb behind the card */
.login-glow {
  position: absolute;
  width: 120%;
  height: 120%;
  background: var(--glow-color);
  filter: blur(60px);
  border-radius: 50%;
  z-index: -1;
  animation: pulseGlow 4s ease-in-out infinite alternate;
}

@keyframes pulseGlow {
  0% { transform: scale(0.9); opacity: 0.5; }
  100% { transform: scale(1.1); opacity: 0.8; }
}

.login-container {
  width: 100%;
  width: 420px; 
  border-radius: 24px;
  overflow: hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.2);
  
  /* Advanced Glassmorphism */
  background-color: var(--login-glass);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--login-border);
}

.login-form-panel {
  padding: 60px 40px;
  text-align: center;
  width: 100%;
}

.login-form-panel h1 {
  font-family: 'Inter', system-ui, -apple-system, sans-serif; 
  font-size: 36px;
  font-weight: 800;
  color: var(--login-text);
  margin-bottom: 12px;
  letter-spacing: -1.5px;
}

.login-form-panel p {
  font-family: system-ui, -apple-system, sans-serif;
  color: var(--login-subtext);
  font-size: 15px;
  margin-bottom: 45px;
  line-height: 1.5;
}

/* --- FirebaseUI Overrides --- */
#firebaseui-auth-container .firebaseui-container {
  background: transparent;
  box-shadow: none;
  max-width: 100%;
}

#firebaseui-auth-container .firebaseui-card-content {
  padding: 0;
}

#firebaseui-auth-container .firebaseui-idp-button.firebaseui-idp-google {
  background-color: var(--mosaic-card-bg);
  border: 1px solid var(--login-border);
  border-radius: 12px; /* Slightly squarer modern look */
  height: 52px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
  width: 100%;
  max-width: 100%;
}

#firebaseui-auth-container .firebaseui-idp-button.firebaseui-idp-google:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
}

#firebaseui-auth-container .firebaseui-idp-text.firebaseui-idp-text-long {
  color: var(--login-text);
  font-family: system-ui, -apple-system, sans-serif;
  font-weight: 600;
  font-size: 15px;
}

#firebaseui-auth-container .mdl-progress { display: none; }

/* Responsive adjustments */
@media (max-width: 768px) {
  .mosaic-column.fast { display: none; }
  .login-container { margin: 0 20px; width: auto; max-width: 380px; }
  .login-form-panel { padding: 40px 24px; }
  .login-form-panel h1 { font-size: 28px; }
}

@media (max-width: 480px) {
  .mosaic-column.medium { display: none; }
  .mosaic-column { width: 100%; }
}
